<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#020810">
  <title>Sweet Fragrance ¬∑ Cat√°logo de Envases</title>
  <meta name="description" content="Cat√°logo de envases premium al por mayor ‚Äî Sweet Fragrance Distribuciones.">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800;900&family=Exo+2:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/3/turn.min.js"></script>

  <style>
    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SWEET FRAGRANCE ¬∑ FLIPBOOK 2030
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
    :root {
      --bg:      #020810;
      --cyan:    #00d4ff;
      --cyan2:   #00ffcc;
      --gold:    #ffd566;
      --gold2:   #ffaa00;
      --text:    #e8f4ff;
      --muted:   rgba(232,244,255,0.48);
      --border:  rgba(0,212,255,0.18);
      --card:    #040d1e;
      --font-h:  'Orbitron', monospace;
      --font-b:  'Exo 2', sans-serif;
      --pw: 480px;
      --ph: 640px;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: var(--font-b);
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
      /* Noise + glows */
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E"),
        radial-gradient(ellipse at 20% 0%,   rgba(0,70,200,0.22) 0%, transparent 55%),
        radial-gradient(ellipse at 80% 100%, rgba(0,212,255,0.12) 0%, transparent 50%);
      background-color: var(--bg);
    }

    /* Scan lines */
    body::before {
      content: '';
      position: fixed; inset: 0; z-index: 0; pointer-events: none;
      background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.15) 2px, rgba(0,0,0,0.15) 4px);
      animation: scanmove 8s linear infinite;
    }
    @keyframes scanmove { from { background-position: 0 0; } to { background-position: 0 -64px; } }

    /* BG Glows */
    .bg-glow { position: fixed; border-radius: 50%; filter: blur(180px); pointer-events: none; z-index: 0; }
    .g1 { width:900px;height:900px;background:radial-gradient(circle,rgba(0,60,180,0.28),transparent 70%);top:-350px;left:-350px; }
    .g2 { width:700px;height:700px;background:radial-gradient(circle,rgba(0,212,255,0.14),transparent 70%);bottom:-150px;right:-200px; }
    .g3 { width:500px;height:500px;background:radial-gradient(circle,rgba(120,60,255,0.1),transparent 70%);top:40%;left:50%;transform:translate(-50%,-50%); }

    /* ‚îÄ‚îÄ COUNTDOWN BANNER ‚îÄ‚îÄ */
    #countdown-banner {
      width: 100%;
      background: linear-gradient(90deg, #1a0000, #2d0000, #1a0000);
      border-bottom: 1px solid rgba(255,60,60,0.3);
      color: #ff8888;
      font-family: var(--font-h);
      font-size: 0.7rem;
      letter-spacing: 0.1em;
      text-align: center;
      padding: 9px 20px;
      position: relative; z-index: 10;
      animation: pulse-bar 2s ease-in-out infinite;
    }
    .cd-time {
      color: #ff4444; font-weight: 900; font-size: 0.88rem;
      letter-spacing: 0.15em; text-shadow: 0 0 12px rgba(255,60,60,0.6);
    }
    @keyframes pulse-bar {
      0%,100% { background: linear-gradient(90deg,#1a0000,#2d0000,#1a0000); }
      50%      { background: linear-gradient(90deg,#2d0000,#3d0000,#2d0000); }
    }

    /* ‚îÄ‚îÄ SOCIAL TICKER ‚îÄ‚îÄ */
    #social-ticker {
      width: 100%;
      font-size: 0.73rem;
      color: rgba(232,244,255,0.65);
      padding: 6px 20px;
      background: rgba(0,212,255,0.04);
      border-bottom: 1px solid rgba(0,212,255,0.1);
      text-align: center;
      letter-spacing: 0.02em;
      position: relative; z-index: 10;
      transition: opacity 0.4s ease, transform 0.4s ease;
    }
    #social-ticker b { color: #00d4ff; }

    /* ‚îÄ‚îÄ TOPBAR ‚îÄ‚îÄ */
    .topbar {
      position: relative; z-index: 10;
      width: 100%; padding: 12px 28px;
      display: flex; align-items: center; justify-content: center;
      border-bottom: 1px solid var(--border);
      background: rgba(2,8,16,0.8);
      backdrop-filter: blur(24px) saturate(160%);
      box-shadow: 0 1px 0 rgba(0,212,255,0.08), inset 0 1px 0 rgba(255,255,255,0.03);
      animation: fadeDown 0.5s ease both;
    }
    .topbar-center { display: flex; flex-direction: column; align-items: center; gap: 3px; }
    .topbar-logo-row { display: flex; align-items: center; gap: 11px; }
    .topbar-logo-row img {
      width: 52px; height: 52px; object-fit: contain;
      filter: drop-shadow(0 0 14px rgba(0,212,255,0.8));
      animation: pulse-logo 3s ease-in-out infinite;
    }
    .topbar-name {
      font-family: var(--font-h); font-size: 1.2rem; font-weight: 900;
      background: linear-gradient(90deg, var(--cyan), var(--cyan2));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
    }
    .topbar-tag { font-size: 0.6rem; letter-spacing: 0.18em; text-transform: uppercase; color: var(--muted); }
    .topbar-left {
      position: absolute; left: 24px; top: 50%; transform: translateY(-50%);
      font-family: var(--font-h); font-size: 0.58rem; color: var(--muted); letter-spacing: 0.08em;
    }
    #page-num { color: var(--cyan); }
    .topbar-right {
      position: absolute; right: 24px; top: 50%; transform: translateY(-50%);
      font-family: var(--font-h); font-size: 0.53rem; letter-spacing: 0.14em;
      color: var(--gold); border: 1px solid rgba(255,213,102,0.3);
      background: rgba(255,213,102,0.07); padding: 5px 12px; border-radius: 100px;
    }

    /* ‚îÄ‚îÄ FLIPBOOK SCENE ‚îÄ‚îÄ */
    .flipbook-scene {
      position: relative; z-index: 1;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      padding: 36px 20px 16px; flex: 1;
      background: linear-gradient(180deg, #0b1e3d 0%, #0d2244 50%, #091830 100%);
      width: 100%;
      box-shadow: inset 0 4px 40px rgba(0,0,0,0.5), inset 0 -4px 40px rgba(0,0,0,0.4);
    }

    #flipbook {
      box-shadow:
        -12px 0 40px rgba(0,0,0,0.9),
         12px 0 40px rgba(0,0,0,0.9),
         0 0 80px rgba(0,212,255,0.06);
    }

    /* ‚îÄ‚îÄ PAGES SHARED ‚îÄ‚îÄ */
    .page { width: var(--pw); background: var(--card); overflow: hidden; position: relative; }

    /* ‚îÄ‚îÄ COVER ‚îÄ‚îÄ */
    .page-cover {
      background: linear-gradient(160deg,#030d1e,#000510);
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      text-align: center; gap: 16px; padding: 40px 28px;
    }
    .cr { position:absolute;border-radius:50%;border:1px solid rgba(0,212,255,0.1); }
    .cr1{width:520px;height:520px;top:50%;left:50%;transform:translate(-50%,-50%);}
    .cr2{width:390px;height:390px;top:50%;left:50%;transform:translate(-50%,-50%);}
    .cr3{width:260px;height:260px;top:50%;left:50%;transform:translate(-50%,-50%);}
    .cr-dot{position:absolute;width:5px;height:5px;border-radius:50%;background:var(--cyan);box-shadow:0 0 10px var(--cyan);}
    .cd1{top:8%;left:48%;} .cd2{top:50%;right:7%;} .cd3{bottom:10%;left:28%;}
    .cover-logo {
      width:130px;height:130px;object-fit:contain;
      filter:drop-shadow(0 0 36px rgba(0,212,255,0.85));
      animation:pulse-logo 2.5s ease-in-out infinite;
      position:relative;z-index:2;
    }
    .cover-brand {
      font-family:var(--font-h);font-size:1.65rem;font-weight:900;
      background:linear-gradient(90deg,var(--cyan),var(--cyan2));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
      position:relative;z-index:2;
    }
    .cover-sub { font-size:0.68rem;letter-spacing:0.2em;text-transform:uppercase;color:var(--muted);position:relative;z-index:2; }
    .cover-pill {
      font-family:var(--font-h);font-size:0.8rem;font-weight:600;
      color:var(--gold);border:1px solid rgba(255,213,102,0.3);
      background:rgba(255,213,102,0.07);padding:8px 22px;border-radius:100px;
      letter-spacing:0.08em;position:relative;z-index:2;
      animation: float-pill 3s ease-in-out infinite;
    }
    .cover-year { font-family:var(--font-h);font-size:0.58rem;color:rgba(0,212,255,0.35);letter-spacing:0.28em;position:relative;z-index:2; }
    .cover-hint {
      position:absolute;bottom:20px;right:20px;
      font-size:0.6rem;color:rgba(0,212,255,0.4);
      letter-spacing:0.1em;text-transform:uppercase;
      animation:blink 2s ease-in-out infinite;
    }
    /* Stats en cover */
    .cover-stats {
      display:flex;align-items:center;gap:20px;
      position:relative;z-index:2;margin-top:4px;
    }
    .cstat { display:flex;flex-direction:column;align-items:center;gap:2px; }
    .cstat-num { font-family:var(--font-h);font-size:1.1rem;font-weight:900;color:var(--cyan);text-shadow:0 0 16px rgba(0,212,255,0.5); }
    .cstat-label { font-size:0.55rem;letter-spacing:0.1em;text-transform:uppercase;color:var(--muted); }
    .cstat-div { width:1px;height:30px;background:linear-gradient(180deg,transparent,rgba(0,212,255,0.3),transparent); }

    /* ‚îÄ‚îÄ BACK COVER ‚îÄ‚îÄ */
    .page-back {
      background:linear-gradient(160deg,#030d1e,#000510);
      display:flex;flex-direction:column;
      align-items:center;justify-content:center;
      text-align:center;gap:14px;padding:40px 28px;
    }
    .back-logo{width:80px;height:80px;object-fit:contain;filter:drop-shadow(0 0 18px rgba(0,212,255,0.65));}
    .back-brand {
      font-family:var(--font-h);font-size:1.05rem;font-weight:800;
      background:linear-gradient(90deg,var(--cyan),var(--cyan2));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
    }
    .back-line{width:50px;height:1px;background:linear-gradient(90deg,transparent,var(--cyan),transparent);}
    .back-text{font-size:0.76rem;color:var(--muted);line-height:1.7;}
    .back-wa {
      display:flex;align-items:center;gap:9px;
      background:linear-gradient(135deg,#25D366,#128C7E);
      color:white;text-decoration:none;
      padding:12px 24px;border-radius:12px;
      font-weight:700;font-size:0.82rem;
      box-shadow:0 4px 18px rgba(37,211,102,0.35);
      animation:wa-pulse 2.5s ease-in-out infinite;
    }
    .back-iva{font-size:0.58rem;color:var(--gold);letter-spacing:0.14em;border:1px solid rgba(255,213,102,0.22);padding:5px 14px;border-radius:100px;}

    /* ‚îÄ‚îÄ BLANK ‚îÄ‚îÄ */
    .page-blank { background:linear-gradient(160deg,#030d1e,#020810);display:flex;align-items:center;justify-content:center; }
    .blank-watermark { font-family:var(--font-h);font-size:0.62rem;letter-spacing:0.25em;color:rgba(0,212,255,0.06);text-transform:uppercase;transform:rotate(-30deg);user-select:none; }

    /* ‚îÄ‚îÄ CATEGORY PAGE ‚îÄ‚îÄ */
    .page-category {
      background:linear-gradient(160deg,#030d1e,#000510);
      display:flex;flex-direction:column;
      align-items:center;justify-content:center;
      padding:28px 22px;gap:14px;
      border-left:1px solid rgba(0,212,255,0.1);
      border-right:1px solid rgba(0,212,255,0.1);
    }
    .cat-logo{width:52px;height:52px;object-fit:contain;filter:drop-shadow(0 0 12px rgba(0,212,255,0.7));margin-bottom:4px;}
    .cat-title{font-family:var(--font-h);font-size:0.6rem;font-weight:700;letter-spacing:0.2em;text-transform:uppercase;color:var(--cyan);}
    .cat-heading{font-family:var(--font-h);font-size:1.15rem;font-weight:900;color:var(--text);text-align:center;line-height:1.2;}
    .cat-divider{width:48px;height:2px;background:linear-gradient(90deg,transparent,var(--cyan),transparent);}
    .cat-list{width:100%;display:flex;flex-direction:column;gap:7px;}
    .cat-item {
      display:flex;align-items:center;gap:11px;
      background:rgba(0,212,255,0.04);border:1px solid rgba(0,212,255,0.11);
      border-radius:11px;padding:9px 13px;
      transition:background 0.2s,border-color 0.2s;
    }
    .cat-item-icon{font-size:1.2rem;flex-shrink:0;}
    .cat-item-info{display:flex;flex-direction:column;gap:2px;flex:1;}
    .cat-item-name{font-family:var(--font-h);font-size:0.7rem;font-weight:700;color:var(--text);}
    .cat-item-sub{font-size:0.62rem;color:var(--muted);}
    .cat-item-page{font-family:var(--font-h);font-size:0.56rem;color:var(--cyan);opacity:0.7;}
    .cat-iva{font-size:0.6rem;color:var(--gold);letter-spacing:0.12em;border:1px solid rgba(255,213,102,0.22);padding:5px 14px;border-radius:100px;background:rgba(255,213,102,0.06);}

    /* ‚îÄ‚îÄ PRODUCT PAGE ‚îÄ‚îÄ */
    .page-product {
      background:linear-gradient(180deg,#040d20,#010a18);
      display:flex;flex-direction:column;
      border-left:1px solid rgba(0,212,255,0.1);
      border-right:1px solid rgba(0,212,255,0.1);
      overflow:hidden;
    }

    /* Logo strip */
    .prod-logo-strip {
      display:flex;align-items:center;justify-content:space-between;
      padding:7px 13px;border-bottom:1px solid rgba(0,212,255,0.1);
      background:rgba(2,8,20,0.75);flex-shrink:0;
    }
    .prod-logo-strip img{width:30px;height:30px;object-fit:contain;filter:drop-shadow(0 0 8px rgba(0,212,255,0.7));}
    .prod-logo-strip-name {
      font-family:var(--font-h);font-size:0.53rem;font-weight:800;letter-spacing:0.1em;text-transform:uppercase;
      background:linear-gradient(90deg,var(--cyan),var(--cyan2));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
    }
    .prod-logo-strip-iva{font-size:0.5rem;color:var(--gold);letter-spacing:0.08em;border:1px solid rgba(255,213,102,0.28);padding:3px 8px;border-radius:100px;}

    /* Image wrap */
    .prod-img-wrap {
      position:relative;width:100%;height:245px;
      overflow:hidden;flex-shrink:0;
      display:flex;align-items:flex-end;justify-content:center;
      transition:background 0.5s;
    }
    .prod-img-wrap::before {
      content:'';position:absolute;inset:0;z-index:1;
      background:radial-gradient(ellipse at 50% 30%,var(--prod-glow,rgba(0,212,255,0.15)),transparent 65%);
      pointer-events:none;
    }
    .prod-img-wrap::after {
      content:'';position:absolute;bottom:0;left:0;right:0;height:70px;z-index:2;
      background:linear-gradient(0deg,var(--prod-fade,#040d20),transparent);
      pointer-events:none;
    }
    .prod-img-wrap img {
      width:78%;max-height:200px;object-fit:contain;
      position:relative;z-index:3;
      filter:drop-shadow(0 12px 28px rgba(0,0,0,0.75));
      margin-bottom:36px;
      transition:transform 0.35s cubic-bezier(0.22,1,0.36,1);
    }
    /* Urgency */
    .prod-urgency{position:absolute;top:9px;left:11px;z-index:4;display:flex;flex-direction:column;gap:5px;}
    .urgency-tag {
      display:inline-flex;align-items:center;gap:4px;
      font-family:var(--font-h);font-size:0.55rem;font-weight:700;
      letter-spacing:0.03em;padding:4px 9px;border-radius:100px;
      white-space:nowrap;animation:pulse-tag 2.2s ease-in-out infinite;
    }
    .tag-hot{background:linear-gradient(135deg,#ff3e00,#ff6b00);color:white;box-shadow:0 0 12px rgba(255,60,0,0.5);}
    .tag-stock{background:rgba(20,10,0,0.85);color:#ffaa44;border:1px solid rgba(255,140,0,0.3);box-shadow:0 0 8px rgba(255,100,0,0.2);}

    /* ML / Unid badges */
    .prod-ml {
      position:absolute;top:9px;right:11px;z-index:4;
      background:rgba(0,0,0,0.85);border:1.5px solid var(--cyan);
      color:var(--cyan);font-family:var(--font-h);
      font-size:0.64rem;font-weight:700;
      padding:5px 9px;border-radius:10px;text-align:center;line-height:1.3;
      box-shadow:0 0 12px rgba(0,212,255,0.35);backdrop-filter:blur(6px);
    }
    .prod-unid {
      position:absolute;bottom:13px;left:11px;z-index:4;
      background:linear-gradient(135deg,#ffaa00,#ffd566);color:#000;
      font-family:var(--font-h);font-size:0.68rem;font-weight:900;
      padding:5px 9px;border-radius:10px;text-align:center;line-height:1.3;
      box-shadow:0 4px 14px rgba(255,170,0,0.5);
    }
    /* Stock badge */
    .prod-stock-badge {
      position:absolute;bottom:13px;right:11px;z-index:4;
      font-family:var(--font-h);font-size:0.55rem;font-weight:700;
      letter-spacing:0.05em;padding:4px 9px;border-radius:100px;
      background:rgba(0,0,0,0.85);backdrop-filter:blur(6px);
    }
    .stock-low  { color:#ff6b6b;border:1px solid rgba(255,60,60,0.35);animation:blink-stock 1.5s ease-in-out infinite; }
    .stock-ok   { color:#ffaa44;border:1px solid rgba(255,140,0,0.28); }

    /* Podio */
    .prod-podium{position:absolute;bottom:0;left:0;right:0;height:44px;z-index:2;}
    .prod-podium-stage {
      position:absolute;bottom:12px;left:50%;transform:translateX(-50%);
      width:80%;height:20px;
      background:linear-gradient(180deg,#e8c547,#a07c10 50%,#7a5c00);
      border-radius:5px 5px 0 0;
      box-shadow:0 -6px 22px rgba(200,162,40,0.5),inset 0 1px 0 rgba(255,235,120,0.55);
    }
    .prod-podium-base{position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:92%;height:12px;background:linear-gradient(180deg,#7a5c00,#4a3800);border-radius:3px 3px 0 0;}
    .prod-podium-shine{position:absolute;top:3px;left:8%;right:8%;height:4px;background:linear-gradient(90deg,transparent,rgba(255,240,150,0.65),transparent);border-radius:2px;}

    /* Name banner */
    .prod-name-banner { padding:9px 14px 7px;flex-shrink:0;border-bottom:1px solid rgba(0,212,255,0.08); }
    .prod-name-label  { font-size:0.55rem;letter-spacing:0.22em;text-transform:uppercase;color:var(--cyan);opacity:0.65;margin-bottom:2px; }
    .prod-name-title  { font-family:var(--font-h);font-size:1.05rem;font-weight:900;color:var(--text);line-height:1.15; }
    .prod-name-ml     { font-size:0.65rem;color:var(--cyan);font-weight:600;letter-spacing:0.1em;margin-top:3px;opacity:0.85; }

    /* Price hero */
    .prod-price-hero {
      display:flex;align-items:center;justify-content:space-between;
      padding:8px 13px;background:rgba(0,0,0,0.25);border-bottom:1px solid rgba(0,212,255,0.07);flex-shrink:0;
    }
    .price-from { display:flex;flex-direction:column;gap:1px; }
    .price-desde { font-size:0.55rem;color:var(--muted);letter-spacing:0.1em;text-transform:uppercase; }
    .price-tachado { font-family:var(--font-h);font-size:0.72rem;color:var(--muted);text-decoration:line-through;opacity:0.5; }
    .price-actual  { font-family:var(--font-h);font-size:1.3rem;font-weight:900;color:var(--gold);line-height:1;text-shadow:0 0 20px rgba(255,213,102,0.4); }
    .price-cu { font-size:0.58rem;font-weight:400;color:var(--muted); }
    .price-saving { background:linear-gradient(135deg,rgba(37,211,102,0.12),rgba(18,140,126,0.08));border:1px solid rgba(37,211,102,0.22);border-radius:10px;padding:7px 11px;text-align:center;flex-shrink:0; }
    .saving-label  { font-size:0.52rem;color:rgba(37,211,102,0.8);letter-spacing:0.06em;text-transform:uppercase; }
    .saving-amount { font-family:var(--font-h);font-size:0.78rem;font-weight:800;color:#25D366; }
    .saving-desc   { font-size:0.56rem;color:var(--muted); }

    /* Social */
    .prod-social{display:flex;align-items:center;gap:7px;padding:6px 13px;background:rgba(255,213,102,0.03);border-bottom:1px solid rgba(255,213,102,0.07);flex-shrink:0;}
    .social-stars{color:var(--gold);font-size:0.68rem;letter-spacing:1px;}
    .social-text{font-size:0.62rem;color:var(--muted);}
    .social-text strong{color:var(--text);}
    .social-badge{margin-left:auto;background:linear-gradient(135deg,rgba(255,170,0,0.12),rgba(255,213,102,0.06));border:1px solid rgba(255,213,102,0.25);color:var(--gold);font-family:var(--font-h);font-size:0.5rem;font-weight:700;letter-spacing:0.07em;padding:3px 8px;border-radius:100px;}

    /* Body */
    .prod-body{padding:9px 13px 13px;display:flex;flex-direction:column;gap:8px;}
    .prod-nota{font-size:0.64rem;color:var(--muted);font-style:italic;}

    /* Tabla */
    .tabla-wrap{background:rgba(0,212,255,0.04);border:1px solid rgba(0,212,255,0.12);border-radius:10px;overflow:hidden;}
    .tabla-header{background:linear-gradient(90deg,rgba(0,212,255,0.12),rgba(0,212,255,0.04));padding:6px 11px;font-size:0.58rem;letter-spacing:0.1em;text-transform:uppercase;color:var(--cyan);font-weight:700;display:flex;align-items:center;gap:5px;}
    .precio-table{width:100%;border-collapse:collapse;}
    .precio-table tr{border-bottom:1px solid rgba(0,212,255,0.07);}
    .precio-table tr:last-child{border-bottom:none;}
    .precio-table td{padding:7px 11px;font-size:0.8rem;vertical-align:middle;}
    .pt-rango{color:var(--muted);white-space:nowrap;width:52%;}
    .pt-dot{width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:6px;vertical-align:middle;}
    .dot-1{background:var(--text);} .dot-2{background:var(--cyan);box-shadow:0 0 6px var(--cyan);} .dot-3{background:var(--gold);box-shadow:0 0 6px var(--gold2);}
    .pt-precio{font-family:var(--font-h);font-weight:800;font-size:0.85rem;text-align:right;}
    .pt-precio.p1{color:var(--text);} .pt-precio.p2{color:var(--cyan);} .pt-precio.p3{color:var(--gold);}

    /* CTA */
    .prod-btn {
      display:flex;align-items:center;justify-content:center;gap:8px;
      padding:12px 15px;background:linear-gradient(135deg,#25D366,#128C7E);
      color:white;text-decoration:none;border-radius:10px;font-weight:700;
      font-size:0.85rem;letter-spacing:0.02em;margin-top:2px;font-family:var(--font-b);
      transition:opacity 0.2s,transform 0.15s;
      box-shadow:0 4px 18px rgba(37,211,102,0.35);
      animation:wa-pulse 2.5s ease-in-out infinite;
    }
    .prod-btn:hover{opacity:0.88;transform:scale(0.97);}

    /* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
    .nav-controls {
      position:relative;z-index:10;
      display:flex;align-items:center;gap:14px;
      padding:20px 0 28px;
      animation:fadeUp 0.5s 0.3s ease both;
    }
    .nav-btn {
      display:flex;align-items:center;gap:7px;padding:10px 22px;
      background:rgba(0,212,255,0.07);border:1px solid var(--border);
      color:var(--cyan);font-family:var(--font-h);font-size:0.63rem;font-weight:600;
      letter-spacing:0.08em;text-transform:uppercase;border-radius:10px;cursor:pointer;
      transition:background 0.2s,box-shadow 0.2s,transform 0.15s;backdrop-filter:blur(8px);
    }
    .nav-btn:hover:not(:disabled){background:rgba(0,212,255,0.14);box-shadow:0 0 18px rgba(0,212,255,0.2);transform:translateY(-1px);}
    .nav-btn:disabled{opacity:0.25;cursor:not-allowed;}
    .nav-label{font-family:var(--font-h);font-size:0.58rem;color:var(--muted);letter-spacing:0.08em;min-width:100px;text-align:center;}

    /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
    .site-footer {
      position:relative;z-index:10;width:100%;
      text-align:center;padding:14px 24px;
      border-top:1px solid var(--border);font-size:0.67rem;
      color:var(--muted);background:rgba(2,8,16,0.65);
      backdrop-filter:blur(12px);
    }

    /* ‚îÄ‚îÄ LOADER ‚îÄ‚îÄ */
    #loader {
      position:fixed;inset:0;z-index:999;background:var(--bg);
      display:flex;flex-direction:column;align-items:center;justify-content:center;gap:18px;
    }
    .loader-logo{width:100px;height:100px;object-fit:contain;filter:drop-shadow(0 0 24px rgba(0,212,255,0.9));animation:pulse-logo 1.5s ease-in-out infinite;}
    .loader-bar{width:200px;height:3px;background:rgba(0,212,255,0.1);border-radius:100px;overflow:hidden;margin-top:4px;}
    .loader-progress{height:100%;width:0%;background:linear-gradient(90deg,var(--cyan),var(--cyan2));border-radius:100px;animation:load-progress 0.8s ease forwards 0.2s;}
    @keyframes load-progress{to{width:100%;}}
    .loader-text{font-family:var(--font-h);font-size:0.65rem;color:var(--cyan);letter-spacing:0.22em;text-transform:uppercase;animation:blink 1.2s ease-in-out infinite;}

    /* ‚îÄ‚îÄ FAB CAT√ÅLOGO PERFUMES ‚îÄ‚îÄ */
    .fab-link {
      position:fixed;bottom:28px;left:28px;z-index:999;
      display:flex;align-items:center;gap:10px;
      background:rgba(4,13,30,0.88);border:1px solid rgba(0,212,255,0.35);
      backdrop-filter:blur(16px);padding:10px 16px 10px 12px;
      border-radius:50px;text-decoration:none;color:var(--text);
      box-shadow:0 4px 24px rgba(0,0,0,0.5),0 0 0 1px rgba(0,212,255,0.1);
      transition:transform 0.25s,box-shadow 0.25s,border-color 0.25s;
      animation:fadeUp 0.6s 0.5s ease both;
    }
    .fab-link:hover{transform:translateY(-3px) scale(1.03);box-shadow:0 8px 32px rgba(0,0,0,0.6),0 0 20px rgba(0,212,255,0.2);border-color:rgba(0,212,255,0.6);}
    .fab-icon{font-size:1.3rem;line-height:1;}
    .fab-text{display:flex;flex-direction:column;gap:1px;}
    .fab-label{font-family:var(--font-h);font-size:0.56rem;letter-spacing:0.12em;color:var(--cyan);text-transform:uppercase;}
    .fab-sub{font-size:0.68rem;font-weight:600;color:var(--text);}

    /* ‚îÄ‚îÄ FAB WA ‚îÄ‚îÄ */
    .fab-wa{
      position:fixed;bottom:28px;right:28px;z-index:999;
      width:56px;height:56px;border-radius:50%;
      background:linear-gradient(135deg,#25D366,#128C7E);
      display:flex;align-items:center;justify-content:center;
      box-shadow:0 4px 22px rgba(37,211,102,0.5);
      animation:fab-pulse 2.5s ease-in-out infinite;
      text-decoration:none;transition:transform 0.2s;
    }
    .fab-wa:hover{transform:scale(1.1);}

    /* ‚îÄ‚îÄ KEYFRAMES ‚îÄ‚îÄ */
    @keyframes pulse-logo{0%,100%{filter:drop-shadow(0 0 14px rgba(0,212,255,0.55));}50%{filter:drop-shadow(0 0 32px rgba(0,212,255,1));}}
    @keyframes blink{0%,100%{opacity:0.4}50%{opacity:1}}
    @keyframes blink-stock{0%,100%{opacity:1}50%{opacity:0.55}}
    @keyframes fadeDown{from{opacity:0;transform:translateY(-16px)}to{opacity:1;transform:translateY(0)}}
    @keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes float-pill{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
    @keyframes pulse-tag{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
    @keyframes wa-pulse{0%,100%{box-shadow:0 4px 18px rgba(37,211,102,0.35),0 0 0 0 rgba(37,211,102,0.35);}50%{box-shadow:0 4px 28px rgba(37,211,102,0.55),0 0 0 8px rgba(37,211,102,0);}}
    @keyframes fab-pulse{0%,100%{box-shadow:0 4px 22px rgba(37,211,102,0.5),0 0 0 0 rgba(37,211,102,0.3);}50%{box-shadow:0 4px 30px rgba(37,211,102,0.7),0 0 0 12px rgba(37,211,102,0);}}

    /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
    @media(max-width:600px){.topbar-left,.topbar-right{display:none}}
    @media(max-width:768px){
      body{padding:0;}
      .topbar{padding:10px 16px;position:sticky;top:0;z-index:100;}
      .flipbook-scene{padding:0!important;background:none!important;box-shadow:none!important;width:100%;}
      .fab-link{bottom:16px;left:16px;}
      .fab-wa{bottom:16px;right:16px;}
    }

    /* M√≥vil: p√°ginas scroll */
    .mobile-carousel{width:100vw;overflow-y:scroll;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch;scrollbar-width:none;}
    .mobile-carousel::-webkit-scrollbar{display:none;}
    .mob-page{width:100%;scroll-snap-align:start;display:flex;flex-direction:column;overflow:hidden;position:relative;}
    .mob-page.page-cover,.mob-page.page-back,.mob-page.page-category{align-items:center;justify-content:center;gap:12px;text-align:center;padding:28px 18px;}
    .mob-header{display:flex;align-items:center;justify-content:space-between;padding:8px 13px;background:rgba(2,8,20,0.8);border-bottom:1px solid rgba(0,212,255,0.12);flex-shrink:0;}
    .mob-logo{width:30px;height:30px;object-fit:contain;filter:drop-shadow(0 0 8px rgba(0,212,255,0.7));}
    .mob-brand{font-family:var(--font-h);font-size:0.53rem;font-weight:800;letter-spacing:0.1em;text-transform:uppercase;background:linear-gradient(90deg,var(--cyan),var(--cyan2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
    .mob-iva{font-size:0.48rem;color:var(--gold);border:1px solid rgba(255,213,102,0.3);padding:2px 7px;border-radius:100px;}
    .mob-img-wrap{position:relative;width:100%;height:52vw;overflow:hidden;flex-shrink:0;display:flex;align-items:flex-end;justify-content:center;}
    .mob-img-wrap img{width:68%;max-height:44vw;object-fit:contain;position:relative;z-index:3;filter:drop-shadow(0 8px 20px rgba(0,0,0,0.75));margin-bottom:32px;}
    .mob-name{padding:8px 13px 6px;border-bottom:1px solid rgba(0,212,255,0.09);flex-shrink:0;}
  </style>
</head>
<body>

  <div class="bg-glow g1" aria-hidden="true"></div>
  <div class="bg-glow g2" aria-hidden="true"></div>
  <div class="bg-glow g3" aria-hidden="true"></div>

  <!-- LOADER -->
  <div id="loader">
    <img src="logo.png" alt="Sweet Fragrance" class="loader-logo">
    <div class="loader-bar"><div class="loader-progress"></div></div>
    <div class="loader-text">Cargando cat√°logo...</div>
  </div>

  <!-- COUNTDOWN -->
  <div id="countdown-banner"></div>

  <!-- SOCIAL TICKER -->
  <div id="social-ticker">üü¢ Cargando actividad...</div>

  <!-- TOPBAR -->
  <header class="topbar">
    <span class="topbar-left">P√°g. <span id="page-num">1</span> / <span id="page-total">‚Äî</span></span>
    <div class="topbar-center">
      <div class="topbar-logo-row">
        <img src="logo.png" alt="Sweet Fragrance">
        <span class="topbar-name">Sweet Fragrance</span>
      </div>
      <span class="topbar-tag">Distribuciones ¬∑ Envases Premium</span>
    </div>
    <div class="topbar-right">‚ú¶ IVA Incluido ‚ú¶</div>
  </header>

  <!-- FLIPBOOK -->
  <div class="flipbook-scene">
    <div id="flipbook"></div>
  </div>

  <!-- NAV -->
  <div class="nav-controls">
    <button class="nav-btn" id="btn-prev" disabled>‚Üê Anterior</button>
    <span class="nav-label" id="nav-label">Portada</span>
    <button class="nav-btn" id="btn-next">Siguiente ‚Üí</button>
  </div>

  <footer class="site-footer">
    Sweet Fragrance ¬∑ Precios en COP ¬∑ IVA incluido ¬∑ *No aplica venta por unidad
  </footer>

  <!-- FAB Perfumes -->
  <a class="fab-link" href="index.html" title="Ver Cat√°logo de Perfumes">
    <div class="fab-icon">üå∏</div>
    <div class="fab-text">
      <span class="fab-label">Cat√°logo</span>
      <span class="fab-sub">Perfumes ‚Üí</span>
    </div>
  </a>

  <!-- FAB WA -->
  <a class="fab-wa"
     href="https://wa.me/573209373528?text=Hola%20Sweet%20Fragrance%20üëã%0AQuiero%20info%20sobre%20los%20envases."
     target="_blank" rel="noopener" title="WhatsApp">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white">
      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/>
      <path d="M12 0C5.373 0 0 5.373 0 12c0 2.127.558 4.126 1.532 5.862L.057 23.571a.5.5 0 0 0 .611.625l5.882-1.54A11.94 11.94 0 0 0 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 21.818a9.818 9.818 0 0 1-5.034-1.382l-.36-.214-3.733.979.997-3.648-.235-.374A9.818 9.818 0 1 1 12 21.818z"/>
    </svg>
  </a>

  <script>
    /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       FLIPBOOK 2030 ¬∑ SCRIPT INTEGRADO
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

    const WHATSAPP = "573209373528";

    const waIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="white"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/><path d="M12 0C5.373 0 0 5.373 0 12c0 2.127.558 4.126 1.532 5.862L.057 23.571a.5.5 0 0 0 .611.625l5.882-1.54A11.94 11.94 0 0 0 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 21.818a9.818 9.818 0 0 1-5.034-1.382l-.36-.214-3.733.979.997-3.648-.235-.374A9.818 9.818 0 1 1 12 21.818z"/></svg>`;
    const boxIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="currentColor"><path d="M20 7H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM4 5h16a1 1 0 0 0 0-2H4a1 1 0 0 0 0 2z"/></svg>`;

    function cop(v) { return "$" + v.toLocaleString("es-CO"); }

    /* ‚îÄ‚îÄ COUNTDOWN ‚îÄ‚îÄ */
    function initCountdown() {
      const b = document.getElementById("countdown-banner");
      if (!b) return;
      function tick() {
        const now = new Date(), end = new Date();
        end.setHours(23,59,59,999);
        const d = end - now;
        if (d <= 0) { b.innerHTML = "‚è∞ Oferta renovada ‚Äî ¬°Nuevos precios activos!"; return; }
        const h = String(Math.floor(d/3600000)).padStart(2,"0");
        const m = String(Math.floor((d%3600000)/60000)).padStart(2,"0");
        const s = String(Math.floor((d%60000)/1000)).padStart(2,"0");
        b.innerHTML = `üî• PRECIO MAYORISTA ACTIVO ¬∑ Expira en <span class="cd-time">${h}:${m}:${s}</span> ¬∑ ¬°Pide ya!`;
      }
      tick(); setInterval(tick, 1000);
    }

    /* ‚îÄ‚îÄ SOCIAL PROOF ‚îÄ‚îÄ */
    const NAMES = ["Carlos de Medell√≠n","Diana de Bogot√°","Andr√©s de Cali","Sandra de Barranquilla","Felipe de Bucaramanga","Luisa de Manizales","Ricardo de Pereira","Valentina de Ibagu√©"];
    const ACTIONS = [
      (n,p)=>`${n} compr√≥ <b>${p}</b> hace <b>3 min</b>`,
      (n,p)=>`${n} pidi√≥ <b>10+ cajas</b> de <b>${p}</b>`,
      (n,p)=>`${n} est√° viendo <b>${p}</b> ahora mismo`,
      (n,p)=>`üõí <b>Nuevo pedido:</b> ${n} ‚Äî ${p}`,
    ];
    function initSocialProof(products) {
      const el = document.getElementById("social-ticker");
      if (!el || !products.length) return;
      function r(a){return a[Math.floor(Math.random()*a.length)];}
      function rotate(){
        el.style.opacity="0";el.style.transform="translateY(-6px)";
        setTimeout(()=>{
          el.innerHTML = "üü¢ " + r(ACTIONS)(r(NAMES), r(products));
          el.style.opacity="1";el.style.transform="translateY(0)";
        },400);
      }
      rotate(); setInterval(rotate, 5000);
    }

    /* ‚îÄ‚îÄ STOCK ‚îÄ‚îÄ */
    function getStock(nombre) {
      let h = 0;
      for (const c of nombre) h = (h*31 + c.charCodeAt(0)) & 0xFFFF;
      return 3 + (h % 8);
    }

    /* ‚îÄ‚îÄ BUILDERS ‚îÄ‚îÄ */
    function buildCover() {
      return `<div class="page page-cover">
        <div class="cr cr1"></div><div class="cr cr2"></div><div class="cr cr3"></div>
        <div class="cr-dot cd1"></div><div class="cr-dot cd2"></div><div class="cr-dot cd3"></div>
        <img src="logo.png" alt="" class="cover-logo">
        <div class="cover-brand">Sweet Fragrance</div>
        <div class="cover-sub">Distribuciones ¬∑ Envases Premium</div>
        <div class="cover-pill">üì¶ Cat√°logo de Envases</div>
        <div class="cover-stats">
          <div class="cstat"><span class="cstat-num">+120</span><span class="cstat-label">Clientes</span></div>
          <div class="cstat-div"></div>
          <div class="cstat"><span class="cstat-num">48h</span><span class="cstat-label">Entrega</span></div>
          <div class="cstat-div"></div>
          <div class="cstat"><span class="cstat-num">0%</span><span class="cstat-label">IVA extra</span></div>
        </div>
        <div class="cover-year">COLECCI√ìN 2025</div>
        <div class="cover-hint">Pasar p√°gina ‚Üí</div>
      </div>`;
    }

    function buildBlank() {
      return `<div class="page page-blank"><div class="blank-watermark">Sweet Fragrance</div></div>`;
    }

    function buildBack() {
      const msg = encodeURIComponent("Hola Sweet Fragrance üëã\nQuiero informaci√≥n sobre sus envases.");
      return `<div class="page page-back">
        <div class="cr cr1"></div><div class="cr cr2"></div>
        <img src="logo.png" alt="" class="back-logo">
        <div class="back-brand">Sweet Fragrance</div>
        <div class="back-line"></div>
        <div class="back-text">Envases premium para tu negocio<br>Precios por volumen ¬∑ IVA incluido<br>Entrega inmediata</div>
        <a class="back-wa" href="https://wa.me/${WHATSAPP}?text=${msg}" target="_blank">${waIcon} Cont√°ctanos por WhatsApp</a>
        <div class="back-iva">‚ú¶ IVA Incluido en todos los precios ‚ú¶</div>
      </div>`;
    }

    function buildCategory(prods) {
      const items = prods.map((p,i) => `
        <div class="cat-item">
          <div class="cat-item-icon">üì¶</div>
          <div class="cat-item-info">
            <span class="cat-item-name">${p.nombre}</span>
            <span class="cat-item-sub">${p.ml||""} ML ¬∑ ${p.unidades_caja||""} unid/caja</span>
          </div>
          <span class="cat-item-page">P√°g. ${i+3} ‚Üí</span>
        </div>`).join("");
      return `<div class="page page-category">
        <img src="logo.png" alt="" class="cat-logo">
        <div class="cat-title">Sweet Fragrance</div>
        <div class="cat-heading">√çndice de<br>Productos</div>
        <div class="cat-divider"></div>
        <div class="cat-list">${items}</div>
        <div class="cat-iva">‚ú¶ IVA Incluido ‚ú¶</div>
      </div>`;
    }

    function buildProduct(prod) {
      if (!prod) return buildBlank();
      const p  = prod.precios || {};
      const p1 = p["1_4"]   || prod.precio || 0;
      const p2 = p["5_9"]   || prod.precio || 0;
      const p3 = p["10mas"] || prod.precio || 0;
      const ml   = prod.ml || "";
      const unid = prod.unidades_caja || "";
      const nota = prod.nota || "";
      const ahorro = p1 - p3;
      const porcAhorro = Math.round((ahorro/p1)*100);
      const precioAntes = Math.round(p1*1.15/100)*100;
      const bg   = prod.color_fondo || "#040d20";
      const glow = prod.color_glow  || "rgba(0,212,255,0.15)";
      const stock = getStock(prod.nombre);
      const stockBadge = stock <= 4
        ? `<div class="prod-stock-badge stock-low">üî¥ ¬°Solo ${stock} cajas!</div>`
        : `<div class="prod-stock-badge stock-ok">üü° ${stock} en stock</div>`;
      const msg  = encodeURIComponent(`Hola Sweet Fragrance üëã\nMe interesa: *${prod.nombre}${ml?" "+ml+"ml":""}*\n¬øPrecio y disponibilidad?`);
      const waUrl= `https://wa.me/${WHATSAPP}?text=${msg}`;
      const ph   = `https://placehold.co/480x320/040d20/00d4ff?text=${encodeURIComponent(prod.nombre)}`;

      return `<div class="page page-product" style="background:linear-gradient(180deg,${bg} 0%,#010a18 100%);">
        <div class="prod-logo-strip">
          <img src="logo.png" alt="">
          <span class="prod-logo-strip-name">Sweet Fragrance</span>
          <span class="prod-logo-strip-iva">‚ú¶ IVA Incluido</span>
        </div>
        <div class="prod-img-wrap"
             style="background:radial-gradient(ellipse at 50% 60%,${bg},#010a18 100%);
                    --prod-glow:${glow};--prod-fade:${bg};">
          <img src="${prod.imagen}" alt="${prod.nombre}" onerror="this.src='${ph}'">
          <div class="prod-urgency">
            <span class="urgency-tag tag-hot">üî• M√°s vendido</span>
            <span class="urgency-tag tag-stock">‚ö° Stock limitado</span>
          </div>
          ${ml?`<div class="prod-ml">${ml}<br>ML</div>`:""}
          ${unid?`<div class="prod-unid">${unid}<br>UNID.</div>`:""}
          ${stockBadge}
          <div class="prod-podium">
            <div class="prod-podium-stage"><div class="prod-podium-shine"></div></div>
            <div class="prod-podium-base"></div>
          </div>
        </div>
        <div class="prod-name-banner" style="border-left:4px solid ${glow}">
          <div class="prod-name-label">Envase</div>
          <div class="prod-name-title">${prod.nombre}</div>
          ${ml?`<div class="prod-name-ml">${ml} ML ¬∑ Caja Surtida</div>`:""}
        </div>
        <div class="prod-price-hero">
          <div class="price-from">
            <span class="price-desde">Desde</span>
            <span class="price-tachado">${cop(precioAntes)}</span>
            <span class="price-actual">${cop(p1)} <span class="price-cu">c/u</span></span>
          </div>
          <div class="price-saving">
            <div class="saving-label">Ahorro m√°ximo</div>
            <div class="saving-amount">${cop(ahorro)}</div>
            <div class="saving-desc">10+ cajas (${porcAhorro}% off)</div>
          </div>
        </div>
        <div class="prod-social">
          <span class="social-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
          <span class="social-text"><strong>+120 clientes</strong> mayoristas</span>
          <span class="social-badge">üè™ MAYORISTA</span>
        </div>
        <div class="prod-body">
          ${nota?`<div class="prod-nota">*${nota}</div>`:""}
          <div class="tabla-wrap">
            <div class="tabla-header">${boxIcon} Precio por unidad ¬∑ Seg√∫n cantidad</div>
            <table class="precio-table">
              <tr><td class="pt-rango"><span class="pt-dot dot-1"></span>1‚Äì4 Cajas</td><td class="pt-precio p1">${cop(p1)} <small style="opacity:0.6;font-size:0.62rem">c/u</small></td></tr>
              <tr><td class="pt-rango"><span class="pt-dot dot-2"></span>5‚Äì9 Cajas</td><td class="pt-precio p2">${cop(p2)} <small style="opacity:0.6;font-size:0.62rem">c/u</small></td></tr>
              <tr style="background:rgba(255,213,102,0.06)"><td class="pt-rango"><span class="pt-dot dot-3"></span>10+ Cajas <span style="font-size:0.52rem;color:var(--gold)">‚òÖ MEJOR</span></td><td class="pt-precio p3">${cop(p3)} <small style="opacity:0.6;font-size:0.62rem">c/u</small></td></tr>
            </table>
          </div>
          <a class="prod-btn" href="${waUrl}" target="_blank" rel="noopener">${waIcon} ¬°Quiero este precio ahora!</a>
        </div>
      </div>`;
    }

    /* ‚îÄ‚îÄ INIT ‚îÄ‚îÄ */
    const isMobile = window.innerWidth <= 768;

    async function init() {
      try {
        const data = await fetch("productos.json").then(r=>{ if(!r.ok) throw new Error(`HTTP ${r.status}`); return r.json(); });
        const fb   = document.getElementById("flipbook");
        const productNames = data.map(p => p.nombre);

        initCountdown();
        initSocialProof(productNames);

        if (isMobile) initMobile(data, fb);
        else          initDesktop(data, fb);

      } catch(err) {
        document.getElementById("loader").innerHTML = `
          <div style="text-align:center;color:rgba(232,244,255,0.8);padding:40px;max-width:90vw">
            <p style="font-size:2rem;margin-bottom:12px">‚ö†Ô∏è</p>
            <p style="font-family:'Orbitron',monospace;font-size:0.72rem;letter-spacing:0.1em;color:#ff6b6b;margin-bottom:10px">${err.message}</p>
            <p style="font-size:0.62rem;color:rgba(232,244,255,0.38)">Verifica que productos.json est√° en la misma carpeta</p>
          </div>`;
      }
    }

    /* ‚îÄ‚îÄ DESKTOP ‚îÄ‚îÄ */
    function initDesktop(data, fb) {
      const maxW  = Math.min(window.innerWidth - 40, 1100);
      const pw    = Math.floor(maxW / 2);
      const ph    = Math.floor(pw * 1.35);
      const bookW = pw * 2;
      document.documentElement.style.setProperty('--pw', pw+'px');
      document.documentElement.style.setProperty('--ph', ph+'px');

      fb.innerHTML += buildCover();
      fb.innerHTML += buildCategory(data);
      for (let i=0; i<data.length; i+=2) {
        fb.innerHTML += buildProduct(data[i]);
        fb.innerHTML += buildProduct(data[i+1]||null);
      }
      fb.innerHTML += buildBack();

      const total = fb.children.length;
      const pt = document.getElementById("page-total");
      if (pt) pt.textContent = total;

      $(fb).turn({
        width: bookW, height: ph,
        autoCenter: true, display: "double",
        acceleration: true, gradients: true, elevation: 60,
        when: {
          turned(e, page) {
            const pn = document.getElementById("page-num");
            if (pn) pn.textContent = page;
            updateNav(page, total);
            updateLabel(page, total, data.length);
          }
        }
      });

      document.getElementById("btn-prev").addEventListener("click", ()=>$(fb).turn("previous"));
      document.getElementById("btn-next").addEventListener("click", ()=>$(fb).turn("next"));
      document.addEventListener("keydown", e=>{
        if(e.key==="ArrowRight") $(fb).turn("next");
        if(e.key==="ArrowLeft")  $(fb).turn("previous");
      });

      setTimeout(()=>document.getElementById("loader").style.display="none", 700);
    }

    /* ‚îÄ‚îÄ MOBILE ‚îÄ‚îÄ */
    function initMobile(data, fb) {
      const scene = document.querySelector('.flipbook-scene');
      scene.style.cssText = 'background:none;padding:0;width:100%;display:flex;flex-direction:column;align-items:center;';
      scene.innerHTML = '';
      const pw = window.innerWidth;
      const ph = window.innerHeight - 80;
      document.documentElement.style.setProperty('--pw', pw+'px');
      document.documentElement.style.setProperty('--ph', ph+'px');

      const mobFb = document.createElement('div');
      mobFb.id = 'mob-flipbook';
      scene.appendChild(mobFb);

      // Portada
      mobFb.innerHTML += `<div class="mob-page page-cover" style="height:${ph}px">
        <div class="cr cr1"></div><div class="cr cr2"></div><div class="cr cr3"></div>
        <img src="logo.png" alt="" class="cover-logo">
        <div class="cover-brand">Sweet Fragrance</div>
        <div class="cover-sub">Envases Premium</div>
        <div class="cover-pill">üì¶ Cat√°logo 2025</div>
        <div style="font-size:0.7rem;color:rgba(0,212,255,0.45);letter-spacing:0.1em;margin-top:10px;animation:blink 2s infinite">Toca el borde para pasar ‚Üí</div>
      </div>`;

      // √çndice
      const catItems = data.map((p,i)=>`
        <div class="cat-item">
          <div class="cat-item-icon">üì¶</div>
          <div class="cat-item-info">
            <span class="cat-item-name">${p.nombre}</span>
            <span class="cat-item-sub">${p.ml||""} ML ¬∑ ${p.unidades_caja||""} unid</span>
          </div>
          <span class="cat-item-page">P√°g. ${i+2} ‚Üí</span>
        </div>`).join('');
      mobFb.innerHTML += `<div class="mob-page page-category" style="height:${ph}px">
        <img src="logo.png" alt="" class="cat-logo">
        <div class="cat-title">Sweet Fragrance</div>
        <div class="cat-heading">√çndice</div>
        <div class="cat-divider"></div>
        <div class="cat-list">${catItems}</div>
        <div class="cat-iva" style="margin-top:8px">‚ú¶ IVA Incluido ‚ú¶</div>
      </div>`;

      // Productos (modo m√≥vil reutiliza buildProduct, ajustado)
      data.forEach(prod => {
        const el = document.createElement('div');
        el.innerHTML = buildProduct(prod);
        const pg = el.firstElementChild;
        if (pg) {
          pg.classList.remove('page','page-product');
          pg.classList.add('mob-page');
          pg.style.minHeight = ph + 'px';
          pg.style.overflowY = 'auto';
          mobFb.appendChild(pg);
        }
      });

      // Contraportada
      const msgB = encodeURIComponent("Hola Sweet Fragrance üëã\nQuiero info sobre sus envases.");
      mobFb.innerHTML += `<div class="mob-page page-back" style="height:${ph}px">
        <div class="cr cr1"></div><div class="cr cr2"></div>
        <img src="logo.png" alt="" class="back-logo">
        <div class="back-brand">Sweet Fragrance</div>
        <div class="back-line"></div>
        <div class="back-text">Envases premium ¬∑ Precios por volumen<br>IVA incluido ¬∑ Entrega inmediata</div>
        <a class="back-wa" href="https://wa.me/${WHATSAPP}?text=${msgB}" target="_blank">${waIcon} Cont√°ctanos</a>
        <div class="back-iva">‚ú¶ IVA Incluido ‚ú¶</div>
      </div>`;

      const totalMob = mobFb.children.length;

        // ‚úÖ Nav ANTES de Turn.js
        document.querySelector('.nav-controls').innerHTML = `
          <button class="nav-btn" id="mob-btn-prev" disabled onclick="$('#mob-flipbook').turn('previous')">‚Üê Ant.</button>
          <span class="nav-label"><span id="mob-cur">1</span> / ${totalMob}</span>
          <button class="nav-btn" id="mob-btn-next" onclick="$('#mob-flipbook').turn('next')">Sig. ‚Üí</button>`;

        // ‚úÖ Turn.js DESPU√âS con null-checks
        $(mobFb).turn({
          width: pw, height: ph,
          autoCenter: true, display: "single",
          acceleration: true, gradients: true, elevation: 50,
          when: {
            turned(e, page) {
              const cur = document.getElementById('mob-cur');
              const prev = document.getElementById('mob-btn-prev');
              const next = document.getElementById('mob-btn-next');
              if(cur)  cur.textContent  = page;
              if(prev) prev.disabled    = (page <= 1);
              if(next) next.disabled    = (page >= totalMob);
            }
          }
        });

      document.querySelector('.nav-controls').innerHTML = `
        <button class="nav-btn" id="mob-btn-prev" disabled onclick="$('#mob-flipbook').turn('previous')">‚Üê Ant.</button>
        <span class="nav-label"><span id="mob-cur">1</span> / ${totalMob}</span>
        <button class="nav-btn" id="mob-btn-next" onclick="$('#mob-flipbook').turn('next')">Sig. ‚Üí</button>`;

      setTimeout(()=>document.getElementById("loader").style.display="none", 600);
    }

    function updateNav(page, total) {
      document.getElementById("btn-prev").disabled = (page <= 1);
      document.getElementById("btn-next").disabled = (page >= total);
    }

    function updateLabel(page, total, prodCount) {
      const lbl = document.getElementById("nav-label");
      if (!lbl) return;
      if (page===1)        lbl.textContent = "Portada";
      else if (page>=total) lbl.textContent = "Contraportada";
      else                  lbl.textContent = `Hoja ${Math.ceil((page-1)/2)} de ${Math.ceil(prodCount/2)}`;
    }

    init();
  </script>
</body>
</html>